刷新令牌是用于获取访问令牌的凭据。刷新令牌由授权服务器发布给客户端，用于在当前访问令牌变为无效或过期时获取新的访问令牌，或者获取具有相同或更窄范围的其他访问令牌（访问令牌可能具有更短的生命周期和 权限少于资源所有者授权的权限。根据授权服务器的判断，发出刷新令牌是可选的。 如果授权服务器发出刷新令牌，则在发布访问令牌时包括刷新令牌（即，图1中的步骤（D））。

刷新令牌是表示资源所有者授予客户端的授权的字符串。 该字符串通常对客户端不透明。令牌表示用于检索授权信息的标识符。与访问令牌不同，刷新令牌仅用于授权服务器，不会发送到资源服务器。

```
  +--------+                                           +---------------+
  |        |--(A)------- Authorization Grant --------->|               |
  |        |                                           |               |
  |        |<-(B)----------- Access Token -------------|               |
  |        |               & Refresh Token             |               |
  |        |                                           |               |
  |        |                            +----------+   |               |
  |        |--(C)---- Access Token ---->|          |   |               |
  |        |                            |          |   |               |
  |        |<-(D)- Protected Resource --| Resource |   | Authorization |
  | Client |                            |  Server  |   |     Server    |
  |        |--(E)---- Access Token ---->|          |   |               |
  |        |                            |          |   |               |
  |        |<-(F)- Invalid Token Error -|          |   |               |
  |        |                            +----------+   |               |
  |        |                                           |               |
  |        |--(G)----------- Refresh Token ----------->|               |
  |        |                                           |               |
  |        |<-(H)----------- Access Token -------------|               |
  +--------+           & Optional Refresh Token        +---------------+
```

```
                                                          图2：刷新过期的访问令牌
```

图2所示的流程包括以下步骤:：

\(A\)  客户端通过向授权服务器进行认证并提供授权许可来请求访问令牌。

\(B\)  授权服务器对客户端进行身份验证并验证授权许可，如果有效，则颁发访问令牌和刷新令牌。

\(C\)  客户端通过提供访问令牌向资源服务器发出受保护的资源请求。

\(D\)  资源服务器验证访问令牌，如果有效，则为请求提供服务。

\(E\)  步骤（C）和（D）重复，直到访问令牌到期。 如果客户端知道访问令牌已过期，则跳到步骤（G）; 否则，它会生成另一个受保护的资源请求

\(F\)  由于访问令牌无效，资源服务器返回无效的令牌错误。

\(G\)  客户端通过向授权服务器进行身份验证并呈现刷新令牌来请求新的访问令牌。客户端身份验证要求基于客户端类型和授权服务器策略。

\(H\)  授权服务器对客户端进行身份验证并验证刷新令牌，如果有效，则发出新的访问令牌（以及可选的新刷新令牌）。

步骤（C），（D），（E）和（F）不在此范围内规范，如第7节所述 [Section 7](https://tools.ietf.org/html/rfc6749#section-7)。

